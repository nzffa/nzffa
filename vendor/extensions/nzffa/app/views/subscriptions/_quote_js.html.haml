:javascript
  if ($new_form = $('form#new_subscription')) {
    $new_form.change(function(){
      $.post('/subscriptions/quote_new', $new_form.toJSON(), function(response){
        $('span#price').text(response.price)
        $('span#credit_card_fee').text(response.credit_card_fee)
        $('span#begins_on').text(response.begins_on)
        $('span#expires_on').text(response.expires_on)
      })
    })
  }

  if ($upgrade_form = $('form.edit_subscription')) {
    $upgrade_form.change(function(){
      $.post('/subscriptions/quote_upgrade', $upgrade_form.toJSON(), function(response){
        $('span#price').text(response.price)
        $('span#credit_card_fee').text(response.credit_card_fee)
        $('span#credit').text(response.credit)
        $('span#upgrade_price').text(response.upgrade_price)
        $('span#begins_on').text(response.begins_on)
        $('span#expires_on').text(response.expires_on)
      })
    })
  }

  toggle_research_fund_contribution = function() {
    if ($(this).prop('checked')){
      $('#research_fund_contribution input').removeAttr('disabled');
      $('#research_fund_contribution').show();
    }else{
      $('#research_fund_contribution input').attr('disabled','disabled');
      $('#research_fund_contribution').hide();
    }
  }
  $('#subscription_contribute_to_research_fund').change(toggle_research_fund_contribution);
  $('#subscription_contribute_to_research_fund').trigger('change')

  $('#subscription_additional_branch_ids').select2()
  $('#subscription_additional_branch_ids').on('change', function (e) {
    if ($('#subscription_additional_branch_ids').select2('data').filter(function(elem){return elem.text.indexOf('Grower') > 0}).length > 0){
      $('#tgm_copies input').removeAttr('disabled');
      $('#tgm_copies').show();
    }else{
      $('#tgm_copies input').attr('disabled','disabled');
      $('#tgm_copies').hide();
    }
  });
  $('#subscription_additional_branch_ids').trigger({type: 'change'});
